
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      
      
        
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.3">
    
    
      
        <title>Monitoring Process Workflow - Drought Anticipatory Action Analysis Package Docs</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.484c7ddc.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#monitoring-process-workflow" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Drought Anticipatory Action Analysis Package Docs" class="md-header__button md-logo" aria-label="Drought Anticipatory Action Analysis Package Docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Drought Anticipatory Action Analysis Package Docs
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Monitoring Process Workflow
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Drought Anticipatory Action Analysis Package Docs" class="md-nav__button md-logo" aria-label="Drought Anticipatory Action Analysis Package Docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Drought Anticipatory Action Analysis Package Docs
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Tutorials
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Tutorials
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/load-forecasts-from-cds/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Loading Seasonal Forecasts from CDS
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/run-full-verification/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Run full verification
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/run-operational-monitoring/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Run operational monitoring
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    How-To Guides
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    How-To Guides
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../how-to-guides/run-locally-pixi/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Run locally with Pixi
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../how-to-guides/run-docker/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Run with Docker
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../how-to-guides/setup-ssh-github/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Set up SSH & GitHub
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../how-to-guides/hdc-credentials/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Configure HDC credentials
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../how-to-guides/dependencies/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Manage dependencies
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../how-to-guides/testing-and-linting/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Testing & linting
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../how-to-guides/jupytext/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Use Jupytext
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../how-to-guides/monitoring/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Monitoring process (for Met Services)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Explanation
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Explanation
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../explanation/overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Reference
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Reference
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../analytical/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Analytical
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../triggers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Triggers
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../operational/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Operational
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../utils/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Utils
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../configuration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Configuration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../environment/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Environments
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-run-operational-script" class="md-nav__link">
    <span class="md-ellipsis">
      
        1️⃣ Run Operational Script
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-zip-forecasts-for-distribution" class="md-nav__link">
    <span class="md-ellipsis">
      
        2️⃣ Zip Forecasts for Distribution
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-share-forecasts-via-email" class="md-nav__link">
    <span class="md-ellipsis">
      
        3️⃣ Share Forecasts via Email
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-await-feedback-from-met-services" class="md-nav__link">
    <span class="md-ellipsis">
      
        4️⃣ Await Feedback from Met Services
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-run-prism-update-script" class="md-nav__link">
    <span class="md-ellipsis">
      
        5️⃣ Run Prism Update Script
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6-verify-staging-dashboard" class="md-nav__link">
    <span class="md-ellipsis">
      
        6️⃣ Verify Staging Dashboard
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#7-promote-staging-file-to-operational" class="md-nav__link">
    <span class="md-ellipsis">
      
        7️⃣ Promote Staging File to Operational
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="monitoring-process-workflow">Monitoring Process Workflow</h1>
<p>This document outlines the step-by-step process for generating, packaging, and sharing seasonal forecast outputs with national meteorological services (Mozambique, Zimbabwe, and Malawi). It includes operational script execution, data merging, packaging, sharing, and dashboard updates.</p>
<hr />
<h2 id="1-run-operational-script">1️⃣ Run Operational Script</h2>
<p>Generate forecast outputs using the operational script.</p>
<pre><code class="language-bash">pixi run python -m AA.cli.operational &lt;ISO&gt; &lt;ISSUE_MONTH&gt; &lt;SPI/DRYSPELL&gt;
</code></pre>
<p><strong><em>Notes:</em></strong></p>
<ul>
<li>
<p><ISO> should be MOZ, ZWE, or MWI</p>
</li>
<li>
<p><ISSUE_MONTH> is in integer format (e.g. 9 or 11)</p>
</li>
<li>
<p>MOZ requires both SPI and DRYSPELL runs</p>
</li>
<li>
<p>ZWE and MWI require only SPI</p>
</li>
</ul>
<p>This step automatically merges the current issue month probabilities with the triggers. The output is saved in the data folder in <code>S3_OPS_DATA_PATH</code> which is the workspace dedicated to the drought AA work.</p>
<hr />
<h2 id="2-zip-forecasts-for-distribution">2️⃣ Zip Forecasts for Distribution</h2>
<p>Compress the forecast files to prepare them for sharing.</p>
<pre><code class="language-bash">bash AA/helpers/zip-forecasts.sh &lt;ISO&gt; &lt;ISSUE_MONTH&gt;
</code></pre>
<p><strong><em>Notes:</em></strong></p>
<ul>
<li>
<p>This script zips the forecast outputs and stores them in the public-share folder of the S3 bucket</p>
</li>
<li>
<p>Ensure the script has access to the correct paths and permissions</p>
</li>
</ul>
<hr />
<h2 id="3-share-forecasts-via-email">3️⃣ Share Forecasts via Email</h2>
<p>Send the zipped forecasts to the national meteorological services.</p>
<p><strong><em>Notes:</em></strong></p>
<ul>
<li>
<p>Use the standard email template</p>
</li>
<li>
<p>Include direct links to the zipped files in the public-share folder</p>
</li>
<li>
<p>Be aware of caching issues in the forecasts folder. Overwriting existing files may not reflect immediately due to caching. Coordinate with the Infrastructure team to invalidate cache if necessary.</p>
</li>
</ul>
<hr />
<h2 id="4-await-feedback-from-met-services">4️⃣ Await Feedback from Met Services</h2>
<p>Wait for confirmation that each Met Service has successfully run the script and generated outputs.</p>
<p><strong><em>Notes:</em></strong></p>
<ul>
<li>
<p>This feedback is essential before updating the Prism dashboard</p>
</li>
<li>
<p>If issues arise, follow up with the respective country teams. In general, problems arise when some files are moved or renamed (especially the probs/aa_probabilities_triggers_pilots.csv file that the script automatically reads to add new probabilities). One thing to confirm first is the time coordinate of the forecasts they are using to make sure they use the dataset that has just been shared.</p>
</li>
</ul>
<hr />
<h2 id="5-run-prism-update-script">5️⃣ Run Prism Update Script</h2>
<p>Once confirmation is received, update the dashboard using the Prism script.</p>
<pre><code class="language-bash">pixi run python -m AA.helpers.prism &lt;ISO&gt; &lt;ISSUE_MONTH&gt;
</code></pre>
<p><strong><em>Notes:</em></strong>
- This script generates the dashboard data for the specified country and issue month</p>
<ul>
<li>
<p>Ensure the operational outputs are finalized before running this step</p>
</li>
<li>
<p>Only the staging version of the dashboard is being updated here.</p>
</li>
</ul>
<hr />
<h2 id="6-verify-staging-dashboard">6️⃣ Verify Staging Dashboard</h2>
<p>Check the staging version of the Prism dashboard to confirm everything looks correct.</p>
<p><strong><em>Notes:</em></strong>
- Open the operational dashboard URL and append <code>?staging=true</code></p>
<ul>
<li>
<p>Confirm the current issue month appears on the timeline</p>
</li>
<li>
<p>Status indicators should be visible for each pilot district after selecting the current issue month</p>
</li>
</ul>
<hr />
<h2 id="7-promote-staging-file-to-operational">7️⃣ Promote Staging File to Operational</h2>
<p>Once the staging dashboard is verified, promote the final CSV file to the operational folder.</p>
<pre><code class="language-bash">aws s3 cp s3://wfp-ops-userdata/public-share/aa/staging/aa_probabilities_triggers_&lt;iso&gt;.csv \
s3://wfp-ops-userdata/public-share/aa/aa_probabilities_triggers_&lt;iso&gt;.csv
</code></pre>
<p><strong><em>Notes:</em></strong>
- Replace <iso> with the appropriate country code</p>
<ul>
<li>This makes the updated probabilities and triggers publicly accessible</li>
</ul>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../..", "features": ["navigation.sections", "content.code.copy"], "search": "../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
    
  </body>
</html>